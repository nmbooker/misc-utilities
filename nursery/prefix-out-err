#!/usr/bin/env perl6

use v6;

sub MAIN($prog, *@args) {
    given Proc::Async.new($prog, @args) {
        .stdout.tap(-> $v { print "O: $v" });
        .stderr.tap(-> $v { print $*ERR: "E: $v" });

        my $status = await .start;
        exit $status.exitcode;
    }
}

#!/usr/bin/env perl6

use v6;

sub MAIN($prog, *@args) {
    given Proc::Async.new($prog, @args) {
        .stdout.tap(-> $v { say "O: $_" for $v.lines});
        .stderr.tap(-> $v { say $*ERR: "E: $_" for $v.lines });

        my $status = await .start;
        exit $status.exitcode;
    }
}
